{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/apiAuth.js","images/logo.svg","components/Header.js","components/Profile.js","components/Card.js","components/Gallery.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_responseHandler","inputValuesData","method","body","JSON","stringify","name","about","cardData","link","cardId","likeStatus","avatar","authorization","BASE_URL","checkResponse","response","statusText","Header","isLoggedIn","userEmail","onLogout","currentLocation","useLocation","pathname","className","src","logoPath","alt","to","onClick","Profile","onEditProfile","onAddPlace","onEditAvatar","useContext","type","Card","likes","owner","_id","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","isLiked","some","user","length","Gallery","onImageCard","cards","map","card","Main","Footer","PopupWithForm","title","submitButtonText","isOpen","onClose","onSubmit","children","isSubmitButtonDisabled","popupClassName","onMouseDown","action","EditProfilePopup","onUpdateUser","enableValidation","isInputErrors","toggleSubmitButtonState","defaultValue","description","useState","editProfileInputValues","setEditProfileInputValues","setIsSubmitButtonDisabled","handleInputChange","evt","target","value","useEffect","Object","values","preventDefault","placeholder","onChange","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","avatarInputValue","setAvatarInputValue","hasEmptyInputs","ImagePopup","AddPlacePopup","addPlaceInputValues","setAddPlaceInputValues","DeletePlacePopup","onApproveDeletePlace","Register","onRegister","email","password","registerInputValues","setRegisterInputValues","Login","onLogin","loginInputValues","setLoginInputValues","ProtectedRoute","Component","component","props","exact","path","InfoTooltip","isRegistered","signClassName","App","history","useHistory","setIsLoggedIn","setUserEmail","setIsRegistered","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","cohort","setCurrentUser","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","isLoading","setIsLoading","setIsInputErrors","checkUserToken","token","localStorage","getItem","Authorization","apiAuth","data","push","catch","handleError","error","console","log","inputElement","validationMessage","inputValues","hasAllInputsData","hasErrors","setEscClickListener","document","addEventListener","handleEscClick","key","closeAllPopups","currentTarget","removeEventListener","getCards","cardsData","err","getUserData","Provider","removeItem","Accept","setItem","changeLikeCardStatus","newCard","state","c","updateUserData","finally","updateAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1e1814a3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  //обработчик ответа запроса\r\n  _responseHandler(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  //GET запрос на текущие карточки с сервера\r\n  getCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //GET запрос на данные пользователя\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //PATCH запрос на обновление данных пользователя\r\n  updateUserData(inputValuesData) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: inputValuesData.name,\r\n        about: inputValuesData.about,\r\n      }),\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //POST запрос на добавление новой карточки\r\n  addCard(cardData) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardData.name,\r\n        link: cardData.link,\r\n      }),\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //DELETE запрос на удаление карточки\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //PUT и DELETE запрос на добавление/удаление лайка карточке\r\n  changeLikeCardStatus(cardId, likeStatus) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: likeStatus ? \"DELETE\" : \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  //PATCH запрос на обновление аватара пользователя\r\n  updateAvatar({ avatar }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._responseHandler);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-27\",\r\n  headers: {\r\n    authorization: \"8db06075-d4ea-471e-8c36-db2b91e349e8\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkResponse = (response) => {\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${response.statusText}`);\r\n};\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const isTokenValid = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(checkResponse);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport logoPath from \"../images/logo.svg\";\n\nfunction Header({ isLoggedIn, userEmail, onLogout }) {\n  const location = useLocation();\n  const currentLocation = location.pathname;\n\n  return (\n    <header className=\"header page__header\">\n      <img src={logoPath} alt=\"Лого Mesto Russia\" className=\"header__logo\" />\n      <div className=\"header__navigation\">\n        {isLoggedIn && currentLocation === \"/\" && (\n          <>\n            <p className=\"header__user-email\">{userEmail}</p>\n            <Link\n              to=\"sign-up\"\n              className=\"header__link header__link_type_logout\"\n              onClick={onLogout}\n            >\n              Выйти\n            </Link>\n          </>\n        )}\n        {!isLoggedIn && currentLocation === \"/sign-up\" && (\n          <Link to=\"sign-in\" className=\"header__link\">\n            Войти\n          </Link>\n        )}\n        {!isLoggedIn && currentLocation === \"/sign-in\" && (\n          <Link to=\"sign-up\" className=\"header__link\">\n            Регистрация\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Profile = ({ onEditProfile, onAddPlace, onEditAvatar }) => {\r\n  const { avatar, name, about } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <section className=\"profile content__profile\">\r\n      <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n        <img src={avatar} alt=\"Аватар профиля\" className=\"profile__avatar\" />\r\n      </div>\r\n      <div className=\"profile__info\">\r\n        <h1 className=\"profile__name\">{name}</h1>\r\n        <button\r\n          className=\"button button_type_edit-profile\"\r\n          onClick={onEditProfile}\r\n          type=\"button\"\r\n          aria-label=\"Редактировать профиль\"\r\n        ></button>\r\n        <p className=\"profile__about\">{about}</p>\r\n      </div>\r\n      <button\r\n        className=\"button button_type_add-place\"\r\n        onClick={onAddPlace}\r\n        type=\"button\"\r\n        aria-label=\"Добавить место\"\r\n      ></button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({\r\n  name,\r\n  link,\r\n  likes,\r\n  owner,\r\n  _id,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const isLiked = likes.some((user) => user._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    onCardClick({ name: name, link: link });\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(likes, _id);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(_id);\r\n  }\r\n\r\n  return (\r\n    <li className=\"gallery-table__item\">\r\n      {isOwn && (\r\n        <button\r\n          className={\"button card__delete-button\"}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n      )}\r\n      <article className=\"card\">\r\n        <div className=\"card__image-container\" onClick={handleClick}>\r\n          <img src={link} alt={name} className=\"card__image\" />\r\n        </div>\r\n        <div className=\"card__info\">\r\n          <h2 className=\"card__title\">{name}</h2>\r\n          <div className=\"card__like-area\">\r\n            <button\r\n              className={`button card__like-button ${\r\n                isLiked && \"card__like-button_active\"\r\n              }`}\r\n              onClick={handleLikeClick}\r\n              type=\"button\"\r\n              aria-label=\"Поставить лайк\"\r\n            ></button>\r\n            <span className=\"card__like-number\">{likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\n\r\nconst Gallery = ({ onImageCard, cards, onCardLike, onCardDelete }) => {\r\n  return (\r\n    <section className=\"gallery content__gallery\">\r\n      <ul className=\"gallery-table\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            name={card.name}\r\n            link={card.link}\r\n            likes={card.likes}\r\n            owner={card.owner}\r\n            _id={card._id}\r\n            onCardClick={onImageCard}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport Gallery from \"./Gallery\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onImageCard,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  return (\r\n    <main className=\"content section page__content\">\r\n      <Profile\r\n        onEditProfile={onEditProfile}\r\n        onAddPlace={onAddPlace}\r\n        onEditAvatar={onEditAvatar}\r\n      />\r\n      <Gallery\r\n        onImageCard={onImageCard}\r\n        cards={cards}\r\n        onCardLike={onCardLike}\r\n        onCardDelete={onCardDelete}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer section page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({\r\n  title,\r\n  name,\r\n  submitButtonText,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n  isSubmitButtonDisabled,\r\n}) {\r\n  const popupClassName = `popup ${isOpen && \"popup_opened\"}`;\r\n\r\n  return (\r\n    <div className={popupClassName} onMouseDown={onClose}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"button popup__button_type_close\"\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          aria-label=\"Закрыть всплывающее окно\"\r\n        ></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          action=\"/\"\r\n          method=\"POST\"\r\n          onSubmit={onSubmit}\r\n          name={name}\r\n        >\r\n          {children}\r\n          <button\r\n            className={`button popup__button_type_submit ${\r\n              isSubmitButtonDisabled && \"popup__button_type_submit_disabled\"\r\n            }`}\r\n            type=\"submit\"\r\n            aria-label=\"Сохранить изменения\"\r\n          >\r\n            {submitButtonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n  enableValidation,\r\n  isInputErrors,\r\n  toggleSubmitButtonState,\r\n  submitButtonText,\r\n}) {\r\n  const { name, about } = useContext(CurrentUserContext);\r\n  const defaultValue = () => {\r\n    return { name: name, description: about };\r\n  };\r\n  const [editProfileInputValues, setEditProfileInputValues] = useState(\r\n    defaultValue()\r\n  );\r\n  const [isSubmitButtonDisabled, setIsSubmitButtonDisabled] = useState(null);\r\n  const hasEmptyInputs = () => {\r\n    return Object.values(defaultValue()).some((value) => value === \"\");\r\n  };\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setEditProfileInputValues(defaultValue());\r\n      setIsSubmitButtonDisabled(hasEmptyInputs());\r\n    }\r\n  }, [isOpen]);\r\n\r\n  function handleInputChange(evt) {\r\n    setEditProfileInputValues({\r\n      ...editProfileInputValues,\r\n      [evt.target.name]: evt.target.value,\r\n    });\r\n    enableValidation(evt.target);\r\n  }\r\n\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: editProfileInputValues.name,\r\n      about: editProfileInputValues.description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"editProfileForm\"\r\n      submitButtonText={submitButtonText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleFormSubmit}\r\n      isSubmitButtonDisabled={toggleSubmitButtonState(\r\n        isSubmitButtonDisabled,\r\n        editProfileInputValues\r\n      )}\r\n    >\r\n      <div className=\"popup__input-field\">\r\n        <input\r\n          type=\"text\"\r\n          className={`popup__input ${\r\n            isInputErrors?.name && \"popup__input_type_error\"\r\n          }`}\r\n          name=\"name\"\r\n          placeholder=\"Имя пользователя\"\r\n          value={editProfileInputValues.name}\r\n          onChange={handleInputChange}\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n        />\r\n        {isInputErrors?.name && (\r\n          <span className=\"popup__error\" id=\"nameInputError\">\r\n            {isInputErrors.name}\r\n          </span>\r\n        )}\r\n      </div>\r\n      <div className=\"popup__input-field\">\r\n        <input\r\n          type=\"text\"\r\n          className={`popup__input ${\r\n            isInputErrors?.description && \"popup__input_type_error\"\r\n          }`}\r\n          name=\"description\"\r\n          placeholder=\"О себе\"\r\n          value={editProfileInputValues.description}\r\n          onChange={handleInputChange}\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n        />\r\n        {isInputErrors?.description && (\r\n          <span className=\"popup__error\" id=\"aboutInputError\">\r\n            {isInputErrors.description}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  enableValidation,\r\n  isInputErrors,\r\n  toggleSubmitButtonState,\r\n  submitButtonText,\r\n}) {\r\n  const defaultValue = () => {\r\n    return { avatar: \"\" };\r\n  };\r\n  const [avatarInputValue, setAvatarInputValue] = useState(defaultValue());\r\n  const [isSubmitButtonDisabled, setIsSubmitButtonDisabled] = useState(null);\r\n  const hasEmptyInputs = Object.values(defaultValue()).some(\r\n    (value) => value === \"\"\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      setAvatarInputValue(defaultValue());\r\n      setIsSubmitButtonDisabled(hasEmptyInputs);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  function handleInputChange(evt) {\r\n    setAvatarInputValue({\r\n      ...avatarInputValue,\r\n      [evt.target.name]: evt.target.value,\r\n    });\r\n    enableValidation(evt.target);\r\n  }\r\n\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar(avatarInputValue);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"editAvatarForm\"\r\n      submitButtonText={submitButtonText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleFormSubmit}\r\n      isSubmitButtonDisabled={toggleSubmitButtonState(\r\n        isSubmitButtonDisabled,\r\n        avatarInputValue\r\n      )}\r\n    >\r\n      <div className=\"popup__input-field\">\r\n        <input\r\n          type=\"url\"\r\n          className={`popup__input ${\r\n            isInputErrors?.avatar && \"popup__input_type_error\"\r\n          }`}\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на новый аватар\"\r\n          value={avatarInputValue.avatar}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        {isInputErrors?.avatar && (\r\n          <span className=\"popup__error\" id=\"avatarLinkInputError\">\r\n            {isInputErrors.avatar}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","function ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_full-image ${\r\n        card && isOpen && \"popup_opened\"\r\n      }`}\r\n      onMouseDown={onClose}\r\n    >\r\n      <figure className=\"popup__container popup__container_type_full-image\">\r\n        <button\r\n          className=\"button popup__button_type_close\"\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          aria-label=\"Закрыть всплывающее окно\"\r\n        ></button>\r\n        <img\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n          className=\"popup__full-image\"\r\n        />\r\n        <figcaption className=\"popup__full-image-caption\">\r\n          {card && card.name}\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({\r\n  isOpen,\r\n  onClose,\r\n  onAddPlace,\r\n  enableValidation,\r\n  isInputErrors,\r\n  toggleSubmitButtonState,\r\n  submitButtonText,\r\n}) {\r\n  const defaultValue = () => {\r\n    return { name: \"\", link: \"\" };\r\n  };\r\n\r\n  const [addPlaceInputValues, setAddPlaceInputValues] = useState(\r\n    defaultValue()\r\n  );\r\n  const [isSubmitButtonDisabled, setIsSubmitButtonDisabled] = useState(null);\r\n  const hasEmptyInputs = () => {\r\n    return Object.values(defaultValue()).some((value) => value === \"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setAddPlaceInputValues(defaultValue());\r\n      setIsSubmitButtonDisabled(hasEmptyInputs());\r\n    }\r\n  }, [isOpen]);\r\n\r\n  function handleInputChange(evt) {\r\n    setAddPlaceInputValues({\r\n      ...addPlaceInputValues,\r\n      [evt.target.name]: evt.target.value,\r\n    });\r\n    enableValidation(evt.target);\r\n  }\r\n\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace(addPlaceInputValues);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"addCardForm\"\r\n      submitButtonText={submitButtonText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleFormSubmit}\r\n      isSubmitButtonDisabled={toggleSubmitButtonState(\r\n        isSubmitButtonDisabled,\r\n        addPlaceInputValues\r\n      )}\r\n    >\r\n      <div className=\"popup__input-field\">\r\n        <input\r\n          type=\"text\"\r\n          className={`popup__input ${\r\n            isInputErrors?.name && \"popup__input_type_error\"\r\n          }`}\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          value={addPlaceInputValues.name}\r\n          onChange={handleInputChange}\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n        />\r\n        {isInputErrors?.name && (\r\n          <span className=\"popup__error\" id=\"cardTitleInputError\">\r\n            {isInputErrors.name}\r\n          </span>\r\n        )}\r\n      </div>\r\n      <div className=\"popup__input-field\">\r\n        <input\r\n          type=\"url\"\r\n          className={`popup__input ${\r\n            isInputErrors?.link && \"popup__input_type_error\"\r\n          }`}\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          value={addPlaceInputValues.link}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        {isInputErrors?.link && (\r\n          <span className=\"popup__error\" id=\"cardLinkInputError\">\r\n            {isInputErrors.link}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeletePlacePopup({ isOpen, onClose, onApproveDeletePlace }) {\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    onApproveDeletePlace();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      name=\"delete-card\"\r\n      submitButtonText=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleFormSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default DeletePlacePopup;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Register = ({ onRegister }) => {\r\n  const [registerInputValues, setRegisterInputValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleInputChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setRegisterInputValues({\r\n      ...registerInputValues,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    const { password, email } = registerInputValues;\r\n    onRegister(password, email);\r\n  }\r\n\r\n  return (\r\n    <section className=\"sign\">\r\n      <h1 className=\"sign__title\">Регистрация</h1>\r\n      <form className=\"sign__form\" onSubmit={handleFormSubmit}>\r\n        <input\r\n          className=\"sign__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={registerInputValues.email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          className=\"sign__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={registerInputValues.password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button\r\n          className=\"button sign__button\"\r\n          type=\"submit\"\r\n          aria-label=\"Сохранить изменения\"\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <p className=\"sign__subtitle\">\r\n        Уже зарегистрированы?{\" \"}\r\n        <Link to=\"sign-in\" className=\"sign__link\">\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [loginInputValues, setLoginInputValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleInputChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setLoginInputValues({\r\n      ...loginInputValues,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    const { password, email } = loginInputValues;\r\n    onLogin(password, email);\r\n  }\r\n\r\n  return (\r\n    <section className=\"sign\">\r\n      <h1 className=\"sign__title\">Вход</h1>\r\n      <form className=\"sign__form\" onSubmit={handleFormSubmit}>\r\n        <input\r\n          className=\"sign__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={loginInputValues.email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          className=\"sign__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={loginInputValues.password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button\r\n          className=\"button sign__button\"\r\n          type=\"submit\"\r\n          aria-label=\"Сохранить изменения\"\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route exact path={props.path}>\n      {props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\r\n\r\nconst InfoTooltip = ({ isOpen, onClose, isRegistered }) => {\r\n  const popupClassName = `popup ${isOpen && \"popup_opened\"}`;\r\n  const title = isRegistered\r\n    ? \"Вы успешно зарегистрировались!\"\r\n    : \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n  const signClassName = `popup__info-sign ${\r\n    isRegistered\r\n      ? \"popup__info-sign_type_success\"\r\n      : \"popup__info-sign_type_fail\"\r\n  }`;\r\n  return (\r\n    <div className={popupClassName} onMouseDown={onClose}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"button popup__button_type_close\"\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          aria-label=\"Закрыть всплывающее окно\"\r\n        ></button>\r\n        <div className={signClassName}></div>\r\n        <h2 className=\"popup__title popup__info-title\">{title}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport * as apiAuth from \"../utils/apiAuth\";\n\n//импорт компонентов\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeletePlacePopup from \"./DeletePlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nconst App = () => {\n  //переменные для регистрации и авторизации пользователя\n  const history = useHistory();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [isRegistered, setIsRegistered] = useState(false);\n  //переменные для попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  //переменные для функционала галереи\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    cohort: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [deletedCard, setDeletedCard] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isInputErrors, setIsInputErrors] = useState(null);\n\n  //функция регистрации пользователя\n  function handleRegister(password, email) {\n    apiAuth\n      .register(password, email)\n      .then(() => {\n        setIsRegistered(true);\n        setIsInfoTooltipOpen(true);\n      })\n      .catch((error) => {\n        setIsRegistered(false);\n        setIsInfoTooltipOpen(true);\n        handleError(error);\n      });\n  }\n\n  //проверка при открытии сайта: залогинен ли текущий пользователь\n  useEffect(() => {\n    checkUserToken();\n  }, []);\n\n  //проверка токена в localStorage: если да, то устанавливаем, что пользователь залогинен\n  const checkUserToken = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      apiAuth\n        .isTokenValid(token)\n        .then((user) => {\n          const { data } = user;\n          const { email } = data;\n          setUserEmail(email);\n          setIsLoggedIn(true);\n          history.push(\"/\");\n        })\n        .catch(handleError);\n    }\n  };\n\n  //обработка ошибок при выполнении запросов\n  const handleError = (error) => {\n    console.log(`Ошибка: ${error}`);\n  };\n\n  //функция логина пользователя\n  function handleLogin(password, email) {\n    apiAuth\n      .authorize(password, email)\n      .then((data) => {\n        if (data) {\n          const { token } = data;\n          localStorage.setItem(\"token\", token);\n          checkUserToken();\n        }\n      })\n      .catch(handleError);\n  }\n\n  //функция выхода из аккаунта текущего пользователя\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUserEmail(\"\");\n    setIsLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  //запрос всех карточек с сервера, обновление стейта с карточками,\n  //обработчики лайка и удаления карточки\n  useEffect(() => {\n    api\n      .getCards()\n      .then((cardsData) => setCards(cardsData))\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }, []);\n\n  function handleCardLike(likes, cardId) {\n    const isLiked = likes.some((user) => user._id === currentUser._id);\n    api\n      .changeLikeCardStatus(cardId, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === cardId ? newCard : c)));\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }\n\n  function approveDeletePlace() {\n    setIsDeletePlacePopupOpen(false);\n    if (deletedCard !== null) {\n      api\n        .deleteCard(deletedCard._id)\n        .then(\n          setCards((state) => state.filter((c) => c._id !== deletedCard._id))\n        )\n        .then(() => closeAllPopups())\n        .catch((err) => console.log(`Ошибка: ${err}`));\n    }\n  }\n\n  function handleCardDeleteButtonClick(cardId) {\n    setIsDeletePlacePopupOpen(true);\n    setEscClickListener();\n    setDeletedCard({\n      ...deletedCard,\n      _id: cardId,\n    });\n  }\n\n  function handleAddPlaceSubmit(inputValuesData) {\n    setIsLoading(true);\n    api\n      .addCard(inputValuesData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  }\n\n  //запрос данных текущего пользователя,\n  //обработчики обновления данных пользователя и его аватара\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((user) => setCurrentUser(user))\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }, []);\n\n  function handleUpdateUser(inputValuesData) {\n    setIsLoading(true);\n    api\n      .updateUserData(inputValuesData)\n      .then((data) =>\n        setCurrentUser({ ...currentUser, name: data.name, about: data.about })\n      )\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(inputValuesData) {\n    setIsLoading(true);\n    api\n      .updateAvatar(inputValuesData)\n      .then((data) => setCurrentUser({ ...currentUser, avatar: data.avatar }))\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  }\n\n  //функция для валидации форм попапов\n  function enableValidation(inputElement) {\n    setIsInputErrors({\n      ...isInputErrors,\n      [inputElement.name]: inputElement.validationMessage,\n    });\n  }\n\n  // меняем состояние кнопки сабмита: если инпуты не тронуты - сохраняем предыдущее состояние\n  // если тронуты, но не все, то сравниваем с предыдущим состоянием и наличием ошибок\n  // если тронуты все, то выявляем ошибки\n  function toggleSubmitButtonState(isSubmitButtonDisabled, inputValues) {\n    const hasAllInputsData =\n      isInputErrors !== null &&\n      Object.values(isInputErrors).length === Object.values(inputValues).length;\n    const hasErrors =\n      isInputErrors !== null &&\n      Object.values(isInputErrors).some((value) => value !== \"\");\n\n    if (isInputErrors === null) {\n      return isSubmitButtonDisabled;\n    }\n    if (hasAllInputsData) {\n      return hasErrors;\n    }\n    return isSubmitButtonDisabled || hasErrors;\n  }\n\n  //функции открытия попапов\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    setEscClickListener();\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    setEscClickListener();\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    setEscClickListener();\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      ...selectedCard,\n      name: card.name,\n      link: card.link,\n    });\n    setIsImagePopupOpen(true);\n    setEscClickListener();\n  }\n\n  //функции слушателей закрытия попапов\n  function setEscClickListener() {\n    document.addEventListener(\"keydown\", handleEscClick);\n  }\n\n  function handleEscClick(evt) {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  //функция закрытия попапов\n  function closeAllPopups(evt) {\n    if (evt && evt.target !== evt.currentTarget) {\n      return;\n    }\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setDeletedCard(null);\n    setIsInputErrors(null);\n    document.removeEventListener(\"keydown\", handleEscClick);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header\n        isLoggedIn={isLoggedIn}\n        userEmail={userEmail}\n        onLogout={handleLogout}\n      />\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Register onRegister={handleRegister} />\n        </Route>\n        <Route path=\"/sign-in\">\n          <Login onLogin={handleLogin} />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          isLoggedIn={isLoggedIn}\n          component={Main}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onImageCard={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDeleteButtonClick}\n        />\n        {isLoggedIn && <Footer />}\n      </Switch>\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        enableValidation={enableValidation}\n        isInputErrors={isInputErrors}\n        toggleSubmitButtonState={toggleSubmitButtonState}\n        submitButtonText={!isLoading ? \"Сохранить\" : \"Сохранение...\"}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        enableValidation={enableValidation}\n        isInputErrors={isInputErrors}\n        toggleSubmitButtonState={toggleSubmitButtonState}\n        submitButtonText={!isLoading ? \"Сохранить\" : \"Сохранение...\"}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        enableValidation={enableValidation}\n        isInputErrors={isInputErrors}\n        toggleSubmitButtonState={toggleSubmitButtonState}\n        submitButtonText={!isLoading ? \"Создать\" : \"Сохранение...\"}\n      />\n      <DeletePlacePopup\n        isOpen={isDeletePlacePopupOpen}\n        onClose={closeAllPopups}\n        onApproveDeletePlace={approveDeletePlace}\n      />\n      <ImagePopup\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        isRegistered={isRegistered}\n      />\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}