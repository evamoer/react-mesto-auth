{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/apiAuth.js","images/logo.svg","components/Header.js","components/Profile.js","components/Card.js","components/Gallery.js","components/Main.js","components/Footer.js","hooks/validationHook.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","BASE_URL","headers","authorization","checkResponse","response","ok","json","Promise","reject","statusText","Header","isLoggedIn","userEmail","onLogout","currentLocation","useLocation","pathname","className","src","logoPath","alt","to","onClick","Profile","onEditProfile","onAddPlace","onEditAvatar","useContext","avatar","name","about","type","Card","link","likes","owner","_id","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","isLiked","some","user","length","Gallery","onImageCard","cards","map","card","Main","Footer","useFormAndValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","value","validationMessage","closest","checkValidity","PopupWithForm","title","submitButtonText","isOpen","onClose","onSubmit","children","popupClassName","onMouseDown","action","method","EditProfilePopup","onUpdateUser","useEffect","description","evt","preventDefault","placeholder","onChange","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","ImagePopup","AddPlacePopup","DeletePlacePopup","onApproveDeletePlace","Register","onRegister","email","password","registerInputValues","setRegisterInputValues","handleInputChange","Login","onLogin","loginInputValues","setLoginInputValues","ProtectedRoute","Component","component","props","exact","path","InfoTooltip","isRegistered","signClassName","App","history","useHistory","setIsLoggedIn","setUserEmail","setIsRegistered","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","cohort","setCurrentUser","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","isLoading","setIsLoading","checkUserToken","token","localStorage","getItem","fetch","Authorization","then","apiAuth","data","push","catch","handleError","error","console","log","cardsData","err","setEscClickListener","document","addEventListener","handleEscClick","key","closeAllPopups","currentTarget","removeEventListener","Provider","removeItem","body","JSON","stringify","setItem","Accept","cardId","likeStatus","api","newCard","state","c","inputValuesData","finally","cardData","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f0bea5e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export const BASE_URL = \"https://mesto.nomoreparties.co/v1/cohort-27\";\nexport const headers = {\n  authorization: \"8db06075-d4ea-471e-8c36-db2b91e349e8\",\n  \"Content-Type\": \"application/json\",\n};\n\nconst checkResponse = (response) => {\n  if (response.ok) {\n    return response.json();\n  }\n  return Promise.reject(`Ошибка: ${response.statusText}`);\n};\n\n//GET запрос на текущие карточки с сервера\nexport const getCards = () => {\n  return fetch(`${BASE_URL}/cards`, {\n    headers: headers,\n  }).then(checkResponse);\n};\n\n//GET запрос на данные пользователя\nexport const getUserData = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: headers,\n  }).then(checkResponse);\n};\n\n//PATCH запрос на обновление данных пользователя\nexport const updateUserData = (inputValuesData) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"PATCH\",\n    headers: headers,\n    body: JSON.stringify({\n      name: inputValuesData.name,\n      about: inputValuesData.about,\n    }),\n  }).then(checkResponse);\n};\n\n//POST запрос на добавление новой карточки\nexport const addCard = (cardData) => {\n  return fetch(`${BASE_URL}/cards`, {\n    method: \"POST\",\n    headers: headers,\n    body: JSON.stringify({\n      name: cardData.name,\n      link: cardData.link,\n    }),\n  }).then(checkResponse);\n};\n\n//DELETE запрос на удаление карточки\nexport const deleteCard = (cardId) => {\n  return fetch(`${BASE_URL}/cards/${cardId}`, {\n    method: \"DELETE\",\n    headers: headers,\n  }).then(checkResponse);\n};\n\n//PUT и DELETE запрос на добавление/удаление лайка карточке\nexport const changeLikeCardStatus = (cardId, likeStatus) => {\n  return fetch(`${BASE_URL}/cards/likes/${cardId}`, {\n    method: likeStatus ? \"DELETE\" : \"PUT\",\n    headers: headers,\n  }).then(checkResponse);\n};\n\n//PATCH запрос на обновление аватара пользователя\nexport const updateAvatar = ({ avatar }) => {\n  return fetch(`${BASE_URL}/users/me/avatar`, {\n    method: \"PATCH\",\n    headers: headers,\n    body: JSON.stringify({\n      avatar: avatar,\n    }),\n  }).then(checkResponse);\n};\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkResponse = (response) => {\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${response.statusText}`);\r\n};\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const isTokenValid = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(checkResponse);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport logoPath from \"../images/logo.svg\";\n\nexport default function Header({ isLoggedIn, userEmail, onLogout }) {\n  const location = useLocation();\n  const currentLocation = location.pathname;\n\n  return (\n    <header className=\"header page__header\">\n      <img src={logoPath} alt=\"Лого Mesto Russia\" className=\"header__logo\" />\n      <div className=\"header__navigation\">\n        {isLoggedIn && currentLocation === \"/\" && (\n          <>\n            <p className=\"header__user-email\">{userEmail}</p>\n            <Link\n              to=\"sign-up\"\n              className=\"header__link header__link_type_logout\"\n              onClick={onLogout}\n            >\n              Выйти\n            </Link>\n          </>\n        )}\n        {!isLoggedIn && currentLocation === \"/sign-up\" && (\n          <Link to=\"sign-in\" className=\"header__link\">\n            Войти\n          </Link>\n        )}\n        {!isLoggedIn && currentLocation === \"/sign-in\" && (\n          <Link to=\"sign-up\" className=\"header__link\">\n            Регистрация\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function Profile({ onEditProfile, onAddPlace, onEditAvatar }) {\n  const { avatar, name, about } = useContext(CurrentUserContext);\n\n  return (\n    <section className=\"profile content__profile\">\n      <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n        <img src={avatar} alt=\"Аватар профиля\" className=\"profile__avatar\" />\n      </div>\n      <div className=\"profile__info\">\n        <h1 className=\"profile__name\">{name}</h1>\n        <button\n          className=\"button button_type_edit-profile\"\n          onClick={onEditProfile}\n          type=\"button\"\n          aria-label=\"Редактировать профиль\"\n        ></button>\n        <p className=\"profile__about\">{about}</p>\n      </div>\n      <button\n        className=\"button button_type_add-place\"\n        onClick={onAddPlace}\n        type=\"button\"\n        aria-label=\"Добавить место\"\n      ></button>\n    </section>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({\n  name,\n  link,\n  likes,\n  owner,\n  _id,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = owner._id === currentUser._id;\n  const isLiked = likes.some((user) => user._id === currentUser._id);\n\n  const handleClick = () => {\n    onCardClick({ name: name, link: link });\n  };\n\n  const handleLikeClick = () => {\n    onCardLike(likes, _id);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(_id);\n  };\n\n  return (\n    <li className=\"gallery-table__item\">\n      {isOwn && (\n        <button\n          className={\"button card__delete-button\"}\n          onClick={handleDeleteClick}\n        ></button>\n      )}\n      <article className=\"card\">\n        <div className=\"card__image-container\" onClick={handleClick}>\n          <img src={link} alt={name} className=\"card__image\" />\n        </div>\n        <div className=\"card__info\">\n          <h2 className=\"card__title\">{name}</h2>\n          <div className=\"card__like-area\">\n            <button\n              className={`button card__like-button ${\n                isLiked && \"card__like-button_active\"\n              }`}\n              onClick={handleLikeClick}\n              type=\"button\"\n              aria-label=\"Поставить лайк\"\n            ></button>\n            <span className=\"card__like-number\">{likes.length}</span>\n          </div>\n        </div>\n      </article>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\n\nexport default function Gallery({\n  onImageCard,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  return (\n    <section className=\"gallery content__gallery\">\n      <ul className=\"gallery-table\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            name={card.name}\n            link={card.link}\n            likes={card.likes}\n            owner={card.owner}\n            _id={card._id}\n            onCardClick={onImageCard}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </ul>\n    </section>\n  );\n}\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport Gallery from \"./Gallery\";\n\nexport default function Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onImageCard,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  return (\n    <main className=\"content section page__content\">\n      <Profile\n        onEditProfile={onEditProfile}\n        onAddPlace={onAddPlace}\n        onEditAvatar={onEditAvatar}\n      />\n      <Gallery\n        onImageCard={onImageCard}\n        cards={cards}\n        onCardLike={onCardLike}\n        onCardDelete={onCardDelete}\n      />\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer section page__footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n","import { useState, useCallback } from \"react\";\r\n\r\nexport default function useFormAndValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: e.target.validationMessage });\r\n    setIsValid(e.target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setValues,\r\n    setIsValid,\r\n  };\r\n}\r\n","export default function PopupWithForm({\n  title,\n  name,\n  submitButtonText,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n  isValid,\n}) {\n  const popupClassName = `popup ${isOpen && \"popup_opened\"}`;\n\n  return (\n    <div className={popupClassName} onMouseDown={onClose}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__button_type_close\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть всплывающее окно\"\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        <form\n          className=\"popup__form\"\n          action=\"/\"\n          method=\"POST\"\n          onSubmit={onSubmit}\n          name={name}\n        >\n          {children}\n          <button\n            className={`button popup__button_type_submit ${\n              !isValid && \"popup__button_type_submit_disabled\"\n            }`}\n            type=\"submit\"\n            aria-label=\"Сохранить изменения\"\n          >\n            {submitButtonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport useFormAndValidation from \"../hooks/validationHook\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  submitButtonText,\n}) {\n  const { values, handleChange, errors, isValid, setValues, resetForm } =\n    useFormAndValidation();\n  const { name, about } = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setValues({ name, description: about });\n    }\n  }, [isOpen]);\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateUser({\n      name: values.name,\n      about: values.description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"editProfileForm\"\n      submitButtonText={submitButtonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleFormSubmit}\n      isValid={isValid}\n    >\n      <div className=\"popup__input-field\">\n        <input\n          type=\"text\"\n          className={`popup__input ${\n            errors?.name && \"popup__input_type_error\"\n          }`}\n          name=\"name\"\n          placeholder=\"Имя пользователя\"\n          value={values?.name || \"\"}\n          onChange={handleChange}\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        {errors?.name && (\n          <span className=\"popup__error\" id=\"nameInputError\">\n            {errors.name}\n          </span>\n        )}\n      </div>\n      <div className=\"popup__input-field\">\n        <input\n          type=\"text\"\n          className={`popup__input ${\n            errors?.description && \"popup__input_type_error\"\n          }`}\n          name=\"description\"\n          placeholder=\"О себе\"\n          value={values?.description || \"\"}\n          onChange={handleChange}\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        {errors?.description && (\n          <span className=\"popup__error\" id=\"aboutInputError\">\n            {errors.description}\n          </span>\n        )}\n      </div>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useFormAndValidation from \"../hooks/validationHook\";\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  submitButtonText,\n}) {\n  const { values, handleChange, errors, isValid, setValues, resetForm } =\n    useFormAndValidation();\n\n  React.useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setValues({ avatar: \"\" });\n    }\n  }, [isOpen]);\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateAvatar(values);\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"editAvatarForm\"\n      submitButtonText={submitButtonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleFormSubmit}\n      isValid={isValid}\n    >\n      <div className=\"popup__input-field\">\n        <input\n          type=\"url\"\n          className={`popup__input ${\n            errors?.avatar && \"popup__input_type_error\"\n          }`}\n          name=\"avatar\"\n          placeholder=\"Ссылка на новый аватар\"\n          value={values?.avatar || \"\"}\n          onChange={handleChange}\n          required\n        />\n        {errors?.avatar && (\n          <span className=\"popup__error\" id=\"avatarLinkInputError\">\n            {errors.avatar}\n          </span>\n        )}\n      </div>\n    </PopupWithForm>\n  );\n}\n","export default function ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_full-image ${\n        card && isOpen && \"popup_opened\"\n      }`}\n      onMouseDown={onClose}\n    >\n      <figure className=\"popup__container popup__container_type_full-image\">\n        <button\n          className=\"button popup__button_type_close\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть всплывающее окно\"\n        ></button>\n        <img\n          src={card && card.link}\n          alt={card && card.name}\n          className=\"popup__full-image\"\n        />\n        <figcaption className=\"popup__full-image-caption\">\n          {card && card.name}\n        </figcaption>\n      </figure>\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useFormAndValidation from \"../hooks/validationHook\";\n\nexport default function AddPlacePopup({\n  isOpen,\n  onClose,\n  onAddPlace,\n  submitButtonText,\n}) {\n  const { values, handleChange, errors, isValid, setValues, resetForm } =\n    useFormAndValidation();\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setValues({ name: \"\", link: \"\" });\n    }\n  }, [isOpen]);\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n    onAddPlace(values);\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"addCardForm\"\n      submitButtonText={submitButtonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleFormSubmit}\n      isValid={isValid}\n    >\n      <div className=\"popup__input-field\">\n        <input\n          type=\"text\"\n          className={`popup__input ${\n            errors?.name && \"popup__input_type_error\"\n          }`}\n          name=\"name\"\n          placeholder=\"Название\"\n          value={values?.name || \"\"}\n          onChange={handleChange}\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n        />\n        {errors?.name && (\n          <span className=\"popup__error\" id=\"cardTitleInputError\">\n            {errors?.name}\n          </span>\n        )}\n      </div>\n      <div className=\"popup__input-field\">\n        <input\n          type=\"url\"\n          className={`popup__input ${\n            errors?.link && \"popup__input_type_error\"\n          }`}\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          value={values?.link || \"\"}\n          onChange={handleChange}\n          required\n        />\n        {errors?.link && (\n          <span className=\"popup__error\" id=\"cardLinkInputError\">\n            {errors.link}\n          </span>\n        )}\n      </div>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function DeletePlacePopup({\r\n  isOpen,\r\n  onClose,\r\n  onApproveDeletePlace,\r\n}) {\r\n  const handleFormSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onApproveDeletePlace();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      name=\"delete-card\"\r\n      submitButtonText=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleFormSubmit}\r\n      isValid={true}\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Register({ onRegister }) {\n  const [registerInputValues, setRegisterInputValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleInputChange = (evt) => {\n    const { name, value } = evt.target;\n    setRegisterInputValues({\n      ...registerInputValues,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n    const { password, email } = registerInputValues;\n    onRegister(password, email);\n  };\n\n  return (\n    <section className=\"sign\">\n      <h1 className=\"sign__title\">Регистрация</h1>\n      <form className=\"sign__form\" onSubmit={handleFormSubmit}>\n        <input\n          className=\"sign__input\"\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={registerInputValues.email}\n          onChange={handleInputChange}\n        />\n        <input\n          className=\"sign__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={registerInputValues.password}\n          onChange={handleInputChange}\n        />\n        <button\n          className=\"button sign__button\"\n          type=\"submit\"\n          aria-label=\"Сохранить изменения\"\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <p className=\"sign__subtitle\">\n        Уже зарегистрированы?{\" \"}\n        <Link to=\"sign-in\" className=\"sign__link\">\n          Войти\n        </Link>\n      </p>\n    </section>\n  );\n}\n","import React, { useState } from \"react\";\n\nexport default function Login({ onLogin }) {\n  const [loginInputValues, setLoginInputValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleInputChange = (evt) => {\n    const { name, value } = evt.target;\n    setLoginInputValues({\n      ...loginInputValues,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n    const { password, email } = loginInputValues;\n    onLogin(password, email);\n  };\n\n  return (\n    <section className=\"sign\">\n      <h1 className=\"sign__title\">Вход</h1>\n      <form className=\"sign__form\" onSubmit={handleFormSubmit}>\n        <input\n          className=\"sign__input\"\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={loginInputValues.email}\n          onChange={handleInputChange}\n        />\n        <input\n          className=\"sign__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={loginInputValues.password}\n          onChange={handleInputChange}\n        />\n        <button\n          className=\"button sign__button\"\n          type=\"submit\"\n          aria-label=\"Сохранить изменения\"\n        >\n          Войти\n        </button>\n      </form>\n    </section>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route exact path={props.path}>\n      {props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n}\n","import React from \"react\";\n\nexport default function InfoTooltip({ isOpen, onClose, isRegistered }) {\n  const popupClassName = `popup ${isOpen && \"popup_opened\"}`;\n\n  const title = isRegistered\n    ? \"Вы успешно зарегистрировались!\"\n    : \"Что-то пошло не так! Попробуйте ещё раз.\";\n\n  const signClassName = `popup__info-sign ${\n    isRegistered\n      ? \"popup__info-sign_type_success\"\n      : \"popup__info-sign_type_fail\"\n  }`;\n\n  return (\n    <div className={popupClassName} onMouseDown={onClose}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__button_type_close\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть всплывающее окно\"\n        ></button>\n        <div className={signClassName}></div>\n        <h2 className=\"popup__title popup__info-title\">{title}</h2>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as api from \"../utils/api\";\nimport * as apiAuth from \"../utils/apiAuth\";\n\n//импорт компонентов\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeletePlacePopup from \"./DeletePlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nconst App = () => {\n  //переменные для регистрации и авторизации пользователя\n  const history = useHistory();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [isRegistered, setIsRegistered] = useState(false);\n  //переменные для попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  //переменные для функционала галереи\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    cohort: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [deletedCard, setDeletedCard] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  //функция регистрации пользователя\n  const handleRegister = (password, email) => {\n    apiAuth\n      .register(password, email)\n      .then(() => {\n        setIsRegistered(true);\n        setIsInfoTooltipOpen(true);\n      })\n      .catch((error) => {\n        setIsRegistered(false);\n        setIsInfoTooltipOpen(true);\n        handleError(error);\n      });\n  };\n\n  //проверка при открытии сайта: залогинен ли текущий пользователь\n  useEffect(() => {\n    checkUserToken();\n  }, []);\n\n  //проверка токена в localStorage: если да, то устанавливаем, что пользователь залогинен\n  const checkUserToken = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      apiAuth\n        .isTokenValid(token)\n        .then((user) => {\n          const { data } = user;\n          const { email } = data;\n          setUserEmail(email);\n          setIsLoggedIn(true);\n          history.push(\"/\");\n        })\n        .catch(handleError);\n    }\n  };\n\n  //обработка ошибок при выполнении запросов\n  const handleError = (error) => {\n    console.log(`Ошибка: ${error}`);\n  };\n\n  //функция логина пользователя\n  const handleLogin = (password, email) => {\n    apiAuth\n      .authorize(password, email)\n      .then((data) => {\n        if (data) {\n          const { token } = data;\n          localStorage.setItem(\"token\", token);\n          checkUserToken();\n        }\n      })\n      .catch(handleError);\n  };\n\n  //функция выхода из аккаунта текущего пользователя\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUserEmail(\"\");\n    setIsLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  //запрос всех карточек с сервера, обновление стейта с карточками,\n  //обработчики лайка и удаления карточки\n  useEffect(() => {\n    api\n      .getCards()\n      .then((cardsData) => setCards(cardsData))\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }, []);\n\n  const handleCardLike = (likes, cardId) => {\n    const isLiked = likes.some((user) => user._id === currentUser._id);\n    api\n      .changeLikeCardStatus(cardId, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === cardId ? newCard : c)));\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  };\n\n  const approveDeletePlace = () => {\n    setIsDeletePlacePopupOpen(false);\n    if (deletedCard !== null) {\n      api\n        .deleteCard(deletedCard._id)\n        .then(\n          setCards((state) => state.filter((c) => c._id !== deletedCard._id))\n        )\n        .then(() => closeAllPopups())\n        .catch((err) => console.log(`Ошибка: ${err}`));\n    }\n  };\n\n  const handleCardDeleteButtonClick = (cardId) => {\n    setIsDeletePlacePopupOpen(true);\n    setEscClickListener();\n    setDeletedCard({\n      ...deletedCard,\n      _id: cardId,\n    });\n  };\n\n  const handleAddPlaceSubmit = (inputValuesData) => {\n    setIsLoading(true);\n    api\n      .addCard(inputValuesData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  };\n\n  //запрос данных текущего пользователя,\n  //обработчики обновления данных пользователя и его аватара\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((user) => setCurrentUser(user))\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }, []);\n\n  const handleUpdateUser = (inputValuesData) => {\n    setIsLoading(true);\n    api\n      .updateUserData(inputValuesData)\n      .then((data) =>\n        setCurrentUser({ ...currentUser, name: data.name, about: data.about })\n      )\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleUpdateAvatar = (inputValuesData) => {\n    setIsLoading(true);\n    api\n      .updateAvatar(inputValuesData)\n      .then((data) => setCurrentUser({ ...currentUser, avatar: data.avatar }))\n      .then(() => closeAllPopups())\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setIsLoading(false));\n  };\n\n  //функции открытия попапов\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n    setEscClickListener();\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n    setEscClickListener();\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n    setEscClickListener();\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard({\n      ...selectedCard,\n      name: card.name,\n      link: card.link,\n    });\n    setIsImagePopupOpen(true);\n    setEscClickListener();\n  };\n\n  //функции слушателей закрытия попапов\n  const setEscClickListener = () => {\n    document.addEventListener(\"keydown\", handleEscClick);\n  };\n\n  //функция закрытия попапа по нажатию на Esc\n  const handleEscClick = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }, []);\n\n  //функция закрытия попапов\n  const closeAllPopups = (evt) => {\n    if (evt && evt.target !== evt.currentTarget) {\n      return;\n    }\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setDeletedCard(null);\n    document.removeEventListener(\"keydown\", handleEscClick);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header\n        isLoggedIn={isLoggedIn}\n        userEmail={userEmail}\n        onLogout={handleLogout}\n      />\n      <Switch>\n        <Route exact path=\"/sign-in\">\n          <Login onLogin={handleLogin} />\n        </Route>\n        <Route exact path=\"/sign-up\">\n          <Register onRegister={handleRegister} />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          isLoggedIn={isLoggedIn}\n          component={Main}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onImageCard={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDeleteButtonClick}\n        />\n        {isLoggedIn && <Footer />}\n      </Switch>\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        submitButtonText={!isLoading ? \"Сохранить\" : \"Сохранение...\"}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        submitButtonText={!isLoading ? \"Сохранить\" : \"Сохранение...\"}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        submitButtonText={!isLoading ? \"Создать\" : \"Сохранение...\"}\n      />\n      <DeletePlacePopup\n        isOpen={isDeletePlacePopupOpen}\n        onClose={closeAllPopups}\n        onApproveDeletePlace={approveDeletePlace}\n      />\n      <ImagePopup\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        isRegistered={isRegistered}\n      />\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}